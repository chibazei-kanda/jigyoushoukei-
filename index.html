
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>事業承継シミュレーション</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .hidden { display: none; }
  </style>
</head>
<body class="bg-gray-100 text-gray-800 font-sans">
  <div class="max-w-xl mx-auto p-4 bg-white shadow-lg mt-6 rounded-lg">
    <h1 class="text-2xl font-bold text-center mb-4">事業承継シミュレーション</h1>
    <div id="step-indicator" class="text-sm text-right mb-2">1 / 2</div>
    <div id="steps">
      <div class="step" id="step-0">
        <label class="block mb-2 font-semibold">現在の年間売上高（万円）</label>
        <input type="number" id="sales" class="w-full border rounded px-3 py-2 mb-4" />
      </div>
      <div class="step hidden" id="step-1">
        <label class="block mb-2 font-semibold">経常利益率（％）</label>
        <input type="number" id="profit_rate" class="w-full border rounded px-3 py-2 mb-4" />
      </div>
    </div>
    <div class="flex justify-between mt-4">
      <button id="prevBtn" class="px-4 py-2 bg-gray-300 text-gray-700 rounded" disabled>戻る</button>
      <button id="nextBtn" class="px-4 py-2 bg-blue-500 text-white rounded">次へ</button>
    </div>
    <div id="result" class="mt-6 p-4 bg-green-100 rounded hidden">
      <p>完了しました！入力内容は反映されています。</p>
    </div>
  </div>
  <script>
    const steps = document.querySelectorAll('.step');
    const nextBtn = document.getElementById('nextBtn');
    const prevBtn = document.getElementById('prevBtn');
    const stepIndicator = document.getElementById('step-indicator');
    const result = document.getElementById('result');
    let currentStep = 0;

    function showStep(index) {
      steps.forEach((step, i) => {
        step.classList.toggle('hidden', i !== index);
      });
      stepIndicator.textContent = \`\${index + 1} / \${steps.length}\`;
      prevBtn.disabled = index === 0;
      nextBtn.textContent = index === steps.length - 1 ? '完了' : '次へ';
    }

    nextBtn.addEventListener('click', () => {
      const inputs = steps[currentStep].querySelectorAll('input');
      for (let input of inputs) {
        if (!input.value) {
          alert("すべて入力してください");
          return;
        }
      }
      if (currentStep < steps.length - 1) {
        currentStep++;
        showStep(currentStep);
      } else {
        document.getElementById('steps').classList.add('hidden');
        nextBtn.classList.add('hidden');
        prevBtn.classList.add('hidden');
        result.classList.remove('hidden');
      }
    });

    prevBtn.addEventListener('click', () => {
      if (currentStep > 0) {
        currentStep--;
        showStep(currentStep);
      }
    });

    showStep(currentStep);
  </script>
</body>
</html>
